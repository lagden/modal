doctype
html(lang='en')
    head
        meta(charset='utf8')
        meta(http-equiv='X-UA-Compatible', content='IE=edge')
        meta(name='viewport', content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no')
        meta(name='description', content='Example')
        meta(name='author', content='Thiago Lagden')
        link(rel='stylesheet', type='text/css', href='modal.css')
        style.
            body {
                background: gray
            }

            .mar-b-20 {
                margin-bottom: 20px;
            }

            .hidden {
              display: none;
            }

    title Example
    body
        h1 Example
        button#ex1(type='button') Abre o modal
        #modalContent.hidden
          | Esse Ã© um exemplo do modal...
        - var n = 0
        while n < 1000
            - n++
            p some stuff


        script(src='modal.pkg.js')
        script.
            var removeRecursive;

            removeRecursive = function(parent) {
                var el;
                while (parent.hasChildNodes()) {
                    el = parent.lastChild;
                    if (el.hasChildNodes()) {
                        removeRecursive(el);
                    } else {
                        parent.removeChild(el);
                    }
                    el.textContent = '';
                    el = null;
                }
                parent.textContent = '';
                return parent;
            };

            var modal = new Modal(null, {
                content: '#modalContent',
                beforeOpen: function(modal, close, content) {
                    console.log('beforeOpen', modal, close, content)
                    content.classList.add('alterado');
                    removeRecursive(content).insertAdjacentHTML('afterbegin', '<p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p><p>alterado</p>');
                }
            });

            modal.on('open', function(){
                console.log('abriuu');
            });

            var btn = document.querySelector('#ex1');

            btn.addEventListener('click', function(event) {
                modal.open()
            });